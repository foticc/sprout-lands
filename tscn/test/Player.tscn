[gd_scene load_steps=13 format=3 uid="uid://jr0ss1k8w6la"]

[ext_resource type="SpriteFrames" uid="uid://bm8rs8tu56yeq" path="res://res/player.tres" id="1_bqcf3"]
[ext_resource type="Script" uid="uid://bbyrcqwbiilp5" path="res://classes/player/player.gd" id="1_p1pen"]
[ext_resource type="Script" uid="uid://dn2eo1fdx4g28" path="res://classes/state_machine/node_state_machine.gd" id="2_7jbsp"]
[ext_resource type="Script" uid="uid://c1433bj50vsk2" path="res://classes/player/state/idle.gd" id="4_lmueq"]
[ext_resource type="Script" uid="uid://c41uxprkfecra" path="res://classes/player/state/run.gd" id="5_8chl3"]
[ext_resource type="Script" uid="uid://cisqnabmf8w37" path="res://classes/player/state/demo.gd" id="6_tfme3"]
[ext_resource type="Script" uid="uid://jy80t1jr43ae" path="res://classes/player/state/chopping.gd" id="7_m87kf"]
[ext_resource type="Script" uid="uid://duvl7pcvn268a" path="res://classes/player/state/tilling.gd" id="7_q780a"]
[ext_resource type="Script" uid="uid://dhv4xf8vaudi0" path="res://classes/player/state/watering.gd" id="9_rpqkn"]
[ext_resource type="Script" uid="uid://dm2o4qdrx0k0e" path="res://tscn/components/hit_component.gd" id="10_a2dhv"]

[sub_resource type="CircleShape2D" id="CircleShape2D_bqcf3"]
radius = 6.0

[sub_resource type="CircleShape2D" id="CircleShape2D_a2dhv"]
radius = 4.0

[node name="Player" type="CharacterBody2D"]
collision_layer = 2
collision_mask = 5
motion_mode = 1
script = ExtResource("1_p1pen")
tools = 2

[node name="AnimatedSprite" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -8)
sprite_frames = ExtResource("1_bqcf3")
animation = &"chopping_right"
autoplay = "idle_front"
frame = 1
frame_progress = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -6)
shape = SubResource("CircleShape2D_bqcf3")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_node_state")]
script = ExtResource("2_7jbsp")
initial_node_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("4_lmueq")
player = NodePath("../..")

[node name="Run" type="Node" parent="StateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("5_8chl3")
player = NodePath("../..")

[node name="Demo" type="Node" parent="StateMachine"]
script = ExtResource("6_tfme3")

[node name="Tilling" type="Node" parent="StateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("7_q780a")
player = NodePath("../..")

[node name="Chopping" type="Node" parent="StateMachine" node_paths=PackedStringArray("player", "hit_collision_shape")]
script = ExtResource("7_m87kf")
player = NodePath("../..")
hit_collision_shape = NodePath("../../HitComponent/HitCollisionShape")

[node name="Watering" type="Node" parent="StateMachine" node_paths=PackedStringArray("player")]
script = ExtResource("9_rpqkn")
player = NodePath("../..")

[node name="HitComponent" type="Area2D" parent="."]
collision_layer = 8
collision_mask = 16
script = ExtResource("10_a2dhv")
dataTools = 1
metadata/_custom_type_script = "uid://dm2o4qdrx0k0e"

[node name="HitCollisionShape" type="CollisionShape2D" parent="HitComponent"]
shape = SubResource("CircleShape2D_a2dhv")
debug_color = Color(0.93618417, 0.15624505, 0.50369817, 0.41960785)
